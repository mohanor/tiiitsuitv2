<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        html,
        body {
            padding: 0;
            margin: 0;
            direction: rtl;
            overflow-x: hidden;
            width: 100vw;
        }
        * {
            box-sizing: border-box;
            outline: none;
            -webkit-tap-highlight-color: transparent;
            cursor: none;
            user-select: none;
            -webkit-user-drag: none;
        }
        #main {
            display: flex;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            flex-direction: row-reverse;
        }
        #main .part {
        flex: 1;
        }
        #main .part .section {
            width: 100%;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }
        #main .part .section img {
            width: 100vw;
            height: 100vh;
            object-fit: cover;
            position: absolute;
            left: var(--x);
            pointer-events: none;
        }
        .cursor {
            width: var(--size);
            height: var(--size);
            border-radius: 50%;
            background: white;
            position: fixed;
            z-index: 999;
            pointer-events: none;
            mix-blend-mode: difference;
        }
        .cursor-f {
            width: var(--size);
            height: var(--size);
            position: fixed;
            top: 0;
            left: 0;
            background-image: url("data:image/svg+xml,%3Csvg width='47' height='47' viewBox='0 0 47 47' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M42.4202 42.4202C38.8403 46 33.3594 46 23.5 46C13.6406 46 8.15966 46 4.57983 42.4202C1 38.8403 1 33.3594 1 23.5C1 13.6406 1 8.15966 4.57983 4.57983C8.15966 1 13.6406 1 23.5 1C33.3594 1 38.8403 1 42.4202 4.57983C46 8.15966 46 13.6406 46 23.5C46 33.3594 46 38.8403 42.4202 42.4202Z' stroke='white'/%3E%3C/svg%3E%0A");
            background-size: cover;
            mix-blend-mode: difference;
            pointer-events: none;
            opacity: 0.5;
            z-index: 999;
        }
        .buttons {
            position: absolute;
            right: 25px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 99;
        }
        .buttons button {
            border: none;
            background-size: contain;
            background: url("data:image/svg+xml,%3Csvg width='10' height='29' viewBox='0 0 10 29' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9 0V27L1 17.4857' stroke='white' stroke-width='2' /%3E%3C/svg%3E%0A") no-repeat;
            background-position: center;
            width: 10px;
            height: 30px;
            display: block;
            margin: 20px 0;
            padding: 0 15px;
            transition-duration: 0.6s;
        }
        .buttons button.next {
            transform: scaleY(-1);
        }
        .buttons button.prev:active {
            transform: translateY(8px);
        }
        .buttons button.next:active {
            transform: scaleY(-1) translateY(8px);
        }
        h1 {
           /* transform: translateY(-50%);*/
            pointer-events: none;
        }
        .content {
            width: 65%;
            line-height: 2;
            position: absolute;
            bottom: -27px;

            /*width: 90%;
            position: absolute;
            bottom: 20px;*/
            text-align: center;
            left: 0;
            right: 0;
            margin: auto;
            color: white;
            z-index: 99;
            font-size: 0.8em;
            font-size: 20px;
        }
        .content p {
            margin: 0 auto;
            margin-bottom: 0 !important;
        }
        .content kbd {
            width: 15px;
            height: 15px;
            border: 1px solid white;
            display: inline-block;
            border-radius: 3px;
            font-size: 0.9em;
            vertical-align: text-top;
        }
        .content a {
            color: rgba(227, 227, 227, 0.78);
            text-decoration: none;
            border-bottom: 1px solid currentColor;
        }
        .content a:hover {
            padding-bottom: 1px;
        }

        .main__content {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            left: 0;
            right: 0;
            margin: auto;
            z-index: 99;
            color: white;
            text-align: center;
            height: 180px;
        }
    </style>
</head>
<body>
    <div id="main">
        <div class="main__content">
            <div class="m-h1-div">
                <h1 class="m-h1">تيييت سويت</h1>
            </div>
            <div class="m-div">

            </div>
            <div class="content" id="header-conrent">
                <p class="p-content" id="p-content">مرحبا بك في موقع تيييت سويت, موقع يهتم بشرح مستجدات الذكاء الإصطناعي و آخر تقنيات التحول الرقمي</p>
            </div>
        </div>
        <div class="buttons">
            <button class="next" onclick="go(-1)"></button>
            <button class="prev" onclick="go(1)"></button>
        </div>
    </div>

    <div>
        <h1>mohammed</h1>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.2.6/gsap.min.js"></script>
    <script>
       const cols = 3;

        const main = document.getElementById('main');
        let parts = [];

        let images = [
            "https://images.pexels.com/photos/2340254/pexels-photo-2340254.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260",
            "https://images.pexels.com/photos/368685/pexels-photo-368685.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260",
            "https://images.unsplash.com/photo-1523961131990-5ea7c61b2107?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2048&q=80",
            "https://images.unsplash.com/photo-1451187580459-43490279c0fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2672&q=80"
        ];

        let current = 0;
let playing = false;
let index = 0;
for (let i in images) {
    new Image().src = images[i];
}

for (let col = 0; col < cols; col++) {
    let part = document.createElement('div');
    part.className = 'part';
    let el = document.createElement('div');
    el.className = "section";
    let img = document.createElement('img');
    img.src = images[current];
    el.appendChild(img);
    part.style.setProperty('--x', -100/cols*col+'vw');
    part.appendChild(el);
    main.appendChild(part);
    parts.push(part);
}

let animOptions = {
    duration: 2.3,
    ease: Power4.easeInOut
};
const tl = gsap.timeline();
function go(dir) {
    if (!playing) {
        playing = true;
        if (current + dir < 0) current = images.length - 1;
        else if (current + dir >= images.length) current = 0;
        else current += dir;

        function up(part, next) {
            part.appendChild(next);
            gsap.to(part, {...animOptions, y: - window.innerHeight}).then(function () {
                part.children[0].remove();
                gsap.to(part, {duration: 0, y: 0});
            })
        }

        function down(part, next) {
            part.prepend(next);
            gsap.to(part, {duration: 0, y: -window.innerHeight});
            gsap.to(part, {...animOptions, y: 0}).then(function () {
                part.children[1].remove();
                playing = false;
            })
        }

        for (let p in parts) {
            let part = parts[p];
            let next = document.createElement('div');
            next.className = 'section';
            let img = document.createElement('img');
            img.src = images[current];
            next.appendChild(img);

            if ((p - Math.max(0, dir)) % 2) {
                down(part, next);
            } else {
                up(part, next);
            }
        }
    }
}

window.addEventListener('keydown', function(e) {
    if (['ArrowRight'].includes(e.key)) {
    go(1);
}

else if (['ArrowLeft'].includes(e.key)) {
    go(-1);
    }
});

function lerp(start, end, amount) {
    return (1-amount)*start+amount*end
}

const cursor = document.createElement('div');
cursor.className = 'cursor';

const cursorF = document.createElement('div');
cursorF.className = 'cursor-f';
let cursorX = 0;
let cursorY = 0;
let pageX = 0;
let pageY = 0;
let size = 8;
let sizeF = 36;
let followSpeed = .16;

document.body.appendChild(cursor);
document.body.appendChild(cursorF);

if ('ontouchstart' in window) {
    cursor.style.display = 'none';
    cursorF.style.display = 'none';
}

cursor.style.setProperty('--size', size+'px');
cursorF.style.setProperty('--size', sizeF+'px');

window.addEventListener('mousemove', function(e) {
    pageX = e.clientX;
    pageY = e.clientY;
    cursor.style.left = e.clientX-size/2+'px';
    cursor.style.top = e.clientY-size/2+'px';
});

function loop() {
    cursorX = lerp(cursorX, pageX, followSpeed);
    cursorY = lerp(cursorY, pageY, followSpeed);
    cursorF.style.top = cursorY - sizeF/2 + 'px';
    cursorF.style.left = cursorX - sizeF/2 + 'px';
    requestAnimationFrame(loop);
}

loop();

let startY;
let endY;
let clicked = false;

function mousedown(e) {
    gsap.to(cursor, {scale: 4.5});
    gsap.to(cursorF, {scale: .4});

    clicked = true;
    startY = e.clientY || e.touches[0].clientY || e.targetTouches[0].clientY;
}
function mouseup(e) {
    gsap.to(cursor, {scale: 1});
    gsap.to(cursorF, {scale: 1});

    endY = e.clientY || endY;
    if (clicked && startY && Math.abs(startY - endY) >= 40) {
        go(!Math.min(0, startY - endY)?1:-1);
        clicked = false;
        startY = null;
        endY = null;
    }
}
window.addEventListener('mousedown', mousedown, false);

window.addEventListener('mouseup', mouseup, false);

let scrollTimeout;
function wheel(e) {
    clearTimeout(scrollTimeout);
    setTimeout(function() {
    if (e.deltaY < -40) {
    go(-1);
    }
    else if (e.deltaY >= 40) {
    go(1);
    }
    })
}


const menu = document.getElementById("menu");
const body = document.getElementById("body");
const close = document.getElementById("close");

menu.addEventListener('click', () => {
    body.style.overflow = "hidden";
    document.getElementById("mobile-menu").style.display= "block"
    gsap.from(".mobile-item", {duration: 1, opacity:0, delay: .5})
    gsap.to(".mobile-item", {duration: 1, opacity:1, delay: .5})
    gsap.from(".mobile-item", {duration: 1, y: '100%', delay: .3, ease: 'power2.out'})

    gsap.from(".media-item", {duration: 1, opacity:0, delay: .5})
    gsap.to(".media-item", {duration: 1, opacity:1, delay: .5})
    gsap.from(".media-item", {duration: 1, y: '100%', delay: .3, ease: 'power2.out'})

    gsap.from("#close", {duration: 1, opacity:0, delay: .5})
    gsap.to("#close", {duration: 1, opacity:1, delay: .5})
    gsap.from("#close", {duration: 1, y: '100%', delay: .3, ease: 'power2.out'})

    gsap.from(".logo-mobile", {duration: 1, opacity:0, delay: .5})
    gsap.to(".logo-mobile", {duration: 1, opacity:1, delay: .5})
    gsap.from(".logo-mobile", {duration: 1, y: '100%', delay: .3, ease: 'power2.out'})

    gsap.from(".mobile-menu", {duration: 1, opacity:0, delay: .1})
    gsap.to(".mobile-menu", {duration: 1, opacity:1, delay: .2})
    
})

close.addEventListener('click', () => {
    body.style.overflow = "auto";
    document.getElementById("mobile-menu").style.display= "none"
})


    </script>
</body>
</html>